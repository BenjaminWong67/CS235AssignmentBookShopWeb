{% extends 'layout.html' %}

{% block content %}

    <div id='cart'>
        <div id='cart-user'>
            <h3>{{ session['user_name'] }}'s Cart</h3>
        </div>
        
        {% if books|length == 0 %}
            <div id='cart-empty'>
                <h3>Cart is empty ðŸ›’</h3>
                <div>
                    <button onclick=location.href="{{url_for('books_bp.books_catalogue')}}">return to catalogue</button>
                </div>
            </div>
        {% else %}
            <div id='cart-full'>
                <table>
                    <th>Items</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Remove</th>
                    <th>Total</th>
                    {% for book in books %}
                        <tr>
                            <td>
                                {{ book.title }}
                                <br>
                                <button onclick=location.href="{{url_for('books_bp.books_view', id=book.id)}}">view details</button>
                            </td>
                            <td>
                                <p id='price'>${{book.price}}</p>
                            </td>
                            <td>
                                <!-- { form_cart.quantity } -->
                            </td>
                            <td>
                                <button onclick=location.href="{{url_for('shopping_bp.remove_book_from_cart', id=book.id)}}">âœ–</button>
                            </td>
                            <td>
                                <!-- total -->
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
            <div id='cart-purchase'>
                <p>$0.00</p>
                <button onclick=location.href="{{url_for('shopping_bp.purchase_books')}}">Purchase Books</button>
            </div>
        {% endif %}
    </div>


{% endblock %}